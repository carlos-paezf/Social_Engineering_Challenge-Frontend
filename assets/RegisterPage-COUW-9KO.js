import{y,w as h,a as j,j as e,L as N,r as l,x as v,M as f}from"./index-DtJcrtQS.js";const w=()=>{const a=y(t=>t.setGroupData);return h({mutationFn:async t=>(await j.post("/group",t)).data,onSuccess:t=>{a(t)}})},S=({handleSubmit:a,error:t,isPending:s,groupName:d,setGroupName:o,institution:i,setInstitution:n,leaderName:c,setLeaderName:m,memberCount:u,setMemberCount:x})=>e.jsxs("form",{onSubmit:a,className:"bg-white shadow-lg rounded-xl p-8 max-w-md w-full space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Nombre del grupo"}),e.jsx("input",{type:"text",value:d,onChange:r=>o(r.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2 text-gray-800",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Institución educativa"}),e.jsx("input",{type:"text",value:i,onChange:r=>n(r.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2 text-gray-800",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Nombre del líder"}),e.jsx("input",{type:"text",value:c,onChange:r=>m(r.target.value),className:"mt-1 w-full border border-gray-300 rounded-md p-2 text-gray-800",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Cantidad de integrantes"}),e.jsx("input",{type:"number",value:u,onChange:r=>x(parseInt(r.target.value)),min:1,max:10,className:"mt-1 w-full border border-gray-300 rounded-md p-2 text-gray-800",required:!0})]}),e.jsx("button",{type:"submit",disabled:s,className:`w-full font-semibold py-2 px-4 rounded transition 
                            ${s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}
                        `,children:"Comenzar Reto"}),s&&e.jsx(N,{message:"Verificando con el servidor...",className:"py-4",size:"sm"}),t&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:t})]}),R=()=>{const[a,t]=l.useState(""),[s,d]=l.useState(""),[o,i]=l.useState(""),[n,c]=l.useState(2),[m,u]=l.useState(""),x=v(),{mutate:r,isPending:g}=w(),p=b=>{if(b.preventDefault(),!a||!s||!o||n<1){u("Todos los campos son obligatorios");return}r({groupName:a,institution:s,leaderName:o,memberCount:n},{onSuccess:()=>x("/hints"),onError:()=>u("Hubo un problema al registrar el grupo")})};return e.jsx(f,{children:e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center px-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-5",children:"Registro del Grupo"}),e.jsx(S,{handleSubmit:p,groupName:a,setGroupName:t,institution:s,setInstitution:d,leaderName:o,setLeaderName:i,memberCount:n,setMemberCount:c,error:m,isPending:g})]})})};export{R as default};
